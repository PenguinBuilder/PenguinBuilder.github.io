import{A as d,x as g,H as m,y as b,G as f,t as v,v as h}from"./save_svg.js";import{s as L}from"./style-selector.js";import{$ as s}from"./jsquery.js";v(h);const e=g("block-editor",{renderer:"zues",theme:m}),a=[];let i=()=>{};function H(t){i=t,L(o=>{const r=s("#content").elt.scrollTop/s("#content").elt.scrollHeight;e.options.renderer=o,e.renderer=d.init(e.options.renderer||"",e.getTheme(),e.options.rendererOverrides??void 0);function l(c){c>=a.length&&(s("#content").elt.scrollTop=r*s("#content").elt.scrollHeight,i(),i=()=>{});const n=a[c];URL.revokeObjectURL(n.url);const p=u(n.json);n.elt.props({src:p}),n.url=p,l.bind(null,c+1)}requestAnimationFrame(l.bind(null,0))})}function j(t,o){const r=u(o);t.props({src:r}),a.push({elt:t,json:o,url:r})}function u(t){b.workspaces.load(t,e);const o=f(e),r=new Blob([o],{type:"image/svg+xml"});return URL.createObjectURL(r)}export{H as onDone,j as registerElt};

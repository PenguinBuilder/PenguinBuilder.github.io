import{z as p,A as u,w as d,H as g,x as m,G as b,s as f,t as v}from"./zues.js";import{$ as s}from"./jsquery.js";f(v);const e=d("block-editor",{renderer:"zues",theme:g}),i=[];let c=()=>{};function h(t){c=t,p(o=>{const r=s("#content").elt.scrollTop/s("#content").elt.scrollHeight;e.options.renderer=o,e.renderer=u.init(e.options.renderer||"",e.getTheme(),e.options.rendererOverrides??void 0);for(const n of i){URL.revokeObjectURL(n.url);const l=a(n.json);n.elt.props({src:l}),n.url=l}s("#content").elt.scrollTop=r*s("#content").elt.scrollHeight,c(),c=()=>{}})}function k(t,o){const r=a(o);t.props({src:r}),i.push({elt:t,json:o,url:r})}function a(t){m.workspaces.load(t,e);const o=b(e),r=new Blob([o],{type:"image/svg+xml"});return URL.createObjectURL(r)}export{h as onDone,k as registerElt};

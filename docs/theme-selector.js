(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();var v=function(s,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?s!==e||!n:!e.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(s):n?n.value:e.get(s)},g,w;function b(s){return s instanceof NodeList||s instanceof HTMLCollection}function y(s){return s instanceof c?s.elt:s}class h{constructor(){if(this.constructor===h)throw new Error("you can't make an instance of class: JSQuery.Extension")}get(){return{$:this.$(),Element:this.Element(),static_Element:this.static_Element(),static_ElementArray:this.static_ElementArray(),ElementArray:this.ElementArray(),JSQuery:this.JSQuery()}}$(){return{}}Element(){return{}}ElementArray(){return{}}static_Element(){return{}}static_ElementArray(){return{}}JSQuery(){return{}}}class c{static from(e){return e==null?null:b(e)?a.from(e).map(t=>new this(t)):new this(e)}new(){return c.from(this.elt)}constructor(e){g.add(this),this.elt=e}on(e,t,n){return this.elt.addEventListener(e,t,n),this}removeEvent(e,t,n){return this.elt.removeEventListener(e,t,n),this}trigger(e){return this.elt[e](),this}css(e){for(const[t,n]of Object.entries(e))this.elt.style[t]=n;return this}getCss(e){return this.elt.style[e]}props(e){for(const[t,n]of Object.entries(e))n===null?this.elt.removeAttribute(t):this.elt.setAttribute(t,n);return this}getProp(e){return this.elt.getAttribute(e)}id(e){return e==null?this.getProp("id"):(this.props({id:e}),this)}class(e){return Array.isArray(e)?e.forEach(t=>this.elt.classList.add(t)):this.elt.classList.add(e),this}removeClass(e){return Array.isArray(e)?e.forEach(t=>this.elt.classList.remove(t)):this.elt.classList.remove(e),this}toggleClass(e){return Array.isArray(e)?e.forEach(t=>this.elt.classList.toggle(t)):this.elt.classList.toggle(e),this}hasClass(e){return this.elt.classList.contains(e)}$(e){return c.from(this.elt.querySelector(e))}all(e){return c.from(this.elt.querySelectorAll(e))}is(e){return this.elt.matches(e)}child(e){return Array.isArray(e)?e.forEach(t=>this.elt.appendChild(y(t))):this.elt.appendChild(y(e)),this}remove(){return this.elt.remove(),this}get children(){return c.from(this.elt.children)}html(e){return e==null?this.elt.innerHTML:(this.elt.innerHTML=e,this)}text(e){return e==null?this.elt.textContent:(this.elt.textContent=e,this)}rect(){return this.elt.getBoundingClientRect().toJSON()}value(e){return e==null?this.elt.value:(this.elt.value=e,this)}checked(e){return e==null?this.elt.checked:(this.elt.checked=e,this)}click(e,t){return v(this,g,"m",w).call(this,"click",e,t),this}}g=new WeakSet,w=function(e,t,n){if(!t){this.trigger(e);return}this.on(e,t,n)};class k extends h{$(){return{cache(e){const t=(...n)=>{const r=JSON.stringify(n);if(t.cache.hasOwnProperty(r))return t.cache[r];const i=e(...n);return t.cache[r]=i,i};return t.cache={},t}}}}class a extends Array{on(e,t,n){return this.forEach(r=>r.on(e,t,n)),this}rect(){return this.map(e=>e.rect())}hasClass(e){return this.map(t=>t.hasClass(e))}is(e){return this.map(t=>t.is(e))}checked(e){return e!==void 0?(this.forEach(t=>t.checked(e)),this):this.map(t=>t.checked())}trigger(e){return this.forEach(t=>t.trigger(e)),this}css(e){return this.forEach(t=>t.css(e)),this}props(e){return this.forEach(t=>t.props(e)),this}class(e){return this.forEach(t=>t.class(e)),this}removeClass(e){return this.forEach(t=>t.removeClass(e)),this}toggleClass(e){return this.forEach(t=>t.toggleClass(e)),this}remove(){return this.forEach(e=>e.remove()),this}new(){const e=new a;return this.forEach(t=>e.push(t.new())),e}click(e,t){return this.forEach(n=>n.click(e,t)),this}}const A=h,S=Object.freeze(Object.defineProperty({__proto__:null,Caching:k,Element:c,ElementArray:a,Extension:h,Plugin:A},Symbol.toStringTag,{value:"Module"}));function l(s){return c.from(document.querySelector(s))}l.from=(s=>c.from(s));l.all=s=>c.from(document.querySelectorAll(s));let m;l.head=()=>(m||(m=c.from(document.head)),m);let d;l.body=()=>(d||(d=c.from(document.body)),d);let f;l.doc=()=>(f||(f=c.from(document)),f);l.create=s=>c.from(document.createElement(s));l.loadExtension=s=>{if(Object.getPrototypeOf(s)!==h)throw new Error("the class is not a child of JSQuery.Extension or the inputed class is an instance");d=void 0,m=void 0;const e=new s().get();Object.assign(l,e.$),Object.assign(S,e.JSQuery),Object.assign(c.prototype,e.Element),Object.assign(a.prototype,e.ElementArray),Object.assign(c,e.static_Element),Object.assign(a,e.static_ElementArray)};l.loadPlugin=l.loadExtension;const o=l;function E(){return window.location.pathname.split("/").filter(Boolean)[0]==="dev"?"dev":window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"localhost":"main"}function L(){const s=window.location.pathname.split("/").filter(Boolean),e=E();if(e==="main")s.unshift("dev");else if(e==="dev")s.shift();else return window.location.href;const t="/"+s.join("/");return`${window.location.origin}${t}${window.location.search}${window.location.hash}`}const p=E();o("#change-branch-tooltip").props({content:p});o("#change-branch").props({href:L()});o("#version").click(()=>{o("#whats-new").elt.show()});o("#version").text()!==localStorage.getItem("shown-"+p)&&(o("#whats-new").elt.show(),localStorage.setItem("shown-"+p,o("#version").text()));const O=async(s=()=>{},e=()=>{})=>{const t=window.matchMedia("(prefers-color-scheme: dark)");t.addEventListener("change",()=>{o("#theme-selector").$('sl-menu-item[type="checkbox"][checked]').value()==="auto"&&n()}),window.addEventListener("storage",r=>{r.key==="theme"&&(o("#theme-selector").all(`sl-menu-item[type="checkbox"][value=${r.newValue}]`).checked(!0),o("#theme-selector").all(`sl-menu-item[type="checkbox"]:not([value=${r.newValue}])`).checked(!1),n(r.newValue))});function n(r=o("#theme-selector").$('sl-menu-item[type="checkbox"][checked]').value()){const u={dark:!0,light:!1,auto:t.matches};localStorage.setItem("theme",r),u[r]?(document.documentElement.setAttribute("data-theme","dark"),document.documentElement.setAttribute("class","sl-theme-dark"),e()):(document.documentElement.setAttribute("data-theme","light"),document.documentElement.setAttribute("class","sl-theme-light"),s())}await customElements.whenDefined("sl-menu-item");{const r=localStorage.getItem("theme");if(r===null){let i=o("#theme-selector").$('sl-menu-item[type="checkbox"][checked]').value();localStorage.setItem("theme",i),n(i)}else o("#theme-selector").all(`sl-menu-item[type="checkbox"][value=${r}]`).checked(!0),o("#theme-selector").all(`sl-menu-item[type="checkbox"]:not([value=${r}])`).checked(!1),n(r)}o("#theme-selector").all('sl-menu-item[type="checkbox"]').click(function(){let r=o.from(this);r.checked()||(o("#theme-selector").all(`sl-menu-item[type="checkbox"]:not([value="${r.value()}"])`).checked(!1),n(r.value()))})};export{o as $,O as t};

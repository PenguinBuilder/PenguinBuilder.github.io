(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const h of i.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();var E=function(n,e,t,s){if(t==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?s:t==="a"?s.call(n):s?s.value:e.get(n)},y,p;function v(n){return n instanceof NodeList||n instanceof HTMLCollection}function g(n){return n instanceof c?n.elt:n}class u{constructor(){if(this.constructor===u)throw new Error("you can't make an instance of class: JSQuery.Extension")}get(){return{$:this.$(),Element:this.Element(),static_Element:this.static_Element(),static_ElementArray:this.static_ElementArray(),ElementArray:this.ElementArray(),JSQuery:this.JSQuery()}}$(){return{}}Element(){return{}}ElementArray(){return{}}static_Element(){return{}}static_ElementArray(){return{}}JSQuery(){return{}}}class c{static from(e){return e==null?null:v(e)?a.from(e).map(t=>new this(t)):new this(e)}new(){return c.from(this.elt)}constructor(e){y.add(this),this.elt=e}on(e,t,s){return this.elt.addEventListener(e,t,s),this}removeEvent(e,t,s){return this.elt.removeEventListener(e,t,s),this}trigger(e){return this.elt[e](),this}css(e){for(const[t,s]of Object.entries(e))this.elt.style[t]=s;return this}getCss(e){return this.elt.style[e]}props(e){for(const[t,s]of Object.entries(e))s===null?this.elt.removeAttribute(t):this.elt.setAttribute(t,s);return this}getProp(e){return this.elt.getAttribute(e)}id(e){return e==null?this.getProp("id"):(this.props({id:e}),this)}class(e){return Array.isArray(e)?e.forEach(t=>this.elt.classList.add(t)):this.elt.classList.add(e),this}removeClass(e){return Array.isArray(e)?e.forEach(t=>this.elt.classList.remove(t)):this.elt.classList.remove(e),this}toggleClass(e){return Array.isArray(e)?e.forEach(t=>this.elt.classList.toggle(t)):this.elt.classList.toggle(e),this}hasClass(e){return this.elt.classList.contains(e)}$(e){return c.from(this.elt.querySelector(e))}all(e){return c.from(this.elt.querySelectorAll(e))}is(e){return this.elt.matches(e)}child(e){return Array.isArray(e)?e.forEach(t=>this.elt.appendChild(g(t))):this.elt.appendChild(g(e)),this}remove(){return this.elt.remove(),this}get children(){return c.from(this.elt.children)}html(e){return e==null?this.elt.innerHTML:(this.elt.innerHTML=e,this)}text(e){return e==null?this.elt.textContent:(this.elt.textContent=e,this)}rect(){return this.elt.getBoundingClientRect().toJSON()}value(e){return e==null?this.elt.value:(this.elt.value=e,this)}checked(e){return e==null?this.elt.checked:(this.elt.checked=e,this)}click(e,t){return E(this,y,"m",p).call(this,"click",e,t),this}}y=new WeakSet,p=function(e,t,s){if(!t){this.trigger(e);return}this.on(e,t,s)};class b extends u{$(){return{cache(e){const t=(...s)=>{const r=JSON.stringify(s);if(t.cache.hasOwnProperty(r))return t.cache[r];const i=e(...s);return t.cache[r]=i,i};return t.cache={},t}}}}class a extends Array{on(e,t,s){return this.forEach(r=>r.on(e,t,s)),this}rect(){return this.map(e=>e.rect())}hasClass(e){return this.map(t=>t.hasClass(e))}is(e){return this.map(t=>t.is(e))}checked(e){return e!==void 0?(this.forEach(t=>t.checked(e)),this):this.map(t=>t.checked())}trigger(e){return this.forEach(t=>t.trigger(e)),this}css(e){return this.forEach(t=>t.css(e)),this}props(e){return this.forEach(t=>t.props(e)),this}class(e){return this.forEach(t=>t.class(e)),this}removeClass(e){return this.forEach(t=>t.removeClass(e)),this}toggleClass(e){return this.forEach(t=>t.toggleClass(e)),this}remove(){return this.forEach(e=>e.remove()),this}new(){const e=new a;return this.forEach(t=>e.push(t.new())),e}click(e,t){return this.forEach(s=>s.click(e,t)),this}}const k=u,w=Object.freeze(Object.defineProperty({__proto__:null,Caching:b,Element:c,ElementArray:a,Extension:u,Plugin:k},Symbol.toStringTag,{value:"Module"}));function o(n){return c.from(document.querySelector(n))}o.from=(n=>c.from(n));o.all=n=>c.from(document.querySelectorAll(n));let m;o.head=()=>(m||(m=c.from(document.head)),m);let d;o.body=()=>(d||(d=c.from(document.body)),d);let f;o.doc=()=>(f||(f=c.from(document)),f);o.create=n=>c.from(document.createElement(n));o.loadExtension=n=>{if(Object.getPrototypeOf(n)!==u)throw new Error("the class is not a child of JSQuery.Extension or the inputed class is an instance");d=void 0,m=void 0;const e=new n().get();Object.assign(o,e.$),Object.assign(w,e.JSQuery),Object.assign(c.prototype,e.Element),Object.assign(a.prototype,e.ElementArray),Object.assign(c,e.static_Element),Object.assign(a,e.static_ElementArray)};o.loadPlugin=o.loadExtension;const l=o,A=async(n=()=>{},e=()=>{})=>{const t=window.matchMedia("(prefers-color-scheme: dark)");t.addEventListener("change",()=>{l("#theme-selector").$('sl-menu-item[type="checkbox"][checked]').value()==="auto"&&s()}),window.addEventListener("storage",r=>{r.key==="theme"&&(l("#theme-selector").all(`sl-menu-item[type="checkbox"][value=${r.newValue}]`).checked(!0),l("#theme-selector").all(`sl-menu-item[type="checkbox"]:not([value=${r.newValue}])`).checked(!1),s(r.newValue))});function s(r=l("#theme-selector").$('sl-menu-item[type="checkbox"][checked]').value()){const h={dark:!0,light:!1,auto:t.matches};localStorage.setItem("theme",r),h[r]?(document.documentElement.setAttribute("data-theme","dark"),document.documentElement.setAttribute("class","sl-theme-dark"),e()):(document.documentElement.setAttribute("data-theme","light"),document.documentElement.setAttribute("class","sl-theme-light"),n())}await customElements.whenDefined("sl-menu-item");{const r=localStorage.getItem("theme");if(r===null){let i=l("#theme-selector").$('sl-menu-item[type="checkbox"][checked]').value();localStorage.setItem("theme",i),s(i)}else l("#theme-selector").all(`sl-menu-item[type="checkbox"][value=${r}]`).checked(!0),l("#theme-selector").all(`sl-menu-item[type="checkbox"]:not([value=${r}])`).checked(!1),s(r)}l("#theme-selector").all('sl-menu-item[type="checkbox"]').click(function(){let r=l.from(this);r.checked()||(l("#theme-selector").all(`sl-menu-item[type="checkbox"]:not([value="${r.value()}"])`).checked(!1),s(r.value()))})};export{l as $,A as t};

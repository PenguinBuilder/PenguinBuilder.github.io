import{$ as t}from"./jsquery.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&c(r)}).observe(document,{childList:!0,subtree:!0});function s(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(e){if(e.ep)return;e.ep=!0;const o=s(e);fetch(e.href,o)}})();function a(){return window.location.pathname.split("/").filter(Boolean)[0]==="dev"?"dev":window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"localhost":"main"}function m(){const l=window.location.pathname.split("/").filter(Boolean),n=a();if(n==="main")l.unshift("dev");else if(n==="dev")l.shift();else return window.location.href;const s="/"+l.join("/");return`${window.location.origin}${s}${window.location.search}${window.location.hash}`}const i=a();t("#change-branch-tooltip").props({content:i});t("#change-branch").props({href:m()});t("#version").click(()=>{t("#whats-new").elt.show()});t("#version").text()!==localStorage.getItem("shown-"+i)&&(setTimeout(()=>{t("#whats-new").elt.show()}),localStorage.setItem("shown-"+i,t("#version").text()));const u=async(l=()=>{},n=()=>{})=>{const s=window.matchMedia("(prefers-color-scheme: dark)");s.addEventListener("change",()=>{t("#theme-selector").$('sl-menu-item[type="checkbox"][checked]').value()==="auto"&&c()}),window.addEventListener("storage",e=>{e.key==="theme"&&(t("#theme-selector").all(`sl-menu-item[type="checkbox"][value=${e.newValue}]`).checked(!0),t("#theme-selector").all(`sl-menu-item[type="checkbox"]:not([value=${e.newValue}])`).checked(!1),c(e.newValue))});function c(e=t("#theme-selector").$('sl-menu-item[type="checkbox"][checked]').value()){const r={dark:!0,light:!1,auto:s.matches};localStorage.setItem("theme",e),r[e]?(document.documentElement.setAttribute("data-theme","dark"),document.documentElement.setAttribute("class","sl-theme-dark"),n()):(document.documentElement.setAttribute("data-theme","light"),document.documentElement.setAttribute("class","sl-theme-light"),l())}await customElements.whenDefined("sl-menu-item");{const e=localStorage.getItem("theme");if(e===null){let o=t("#theme-selector").$('sl-menu-item[type="checkbox"][checked]').value();localStorage.setItem("theme",o),c(o)}else t("#theme-selector").all(`sl-menu-item[type="checkbox"][value=${e}]`).checked(!0),t("#theme-selector").all(`sl-menu-item[type="checkbox"]:not([value=${e}])`).checked(!1),c(e)}t("#theme-selector").all('sl-menu-item[type="checkbox"]').click(function(){let e=t.from(this);e.checked()||(t("#theme-selector").all(`sl-menu-item[type="checkbox"]:not([value="${e.value()}"])`).checked(!1),c(e.value()))})};export{u as t};
